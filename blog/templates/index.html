{% extends 'base.html' %}
{% load bootstrap4 %}
{% load static %}

{% block content %}
<div class="lateral">
</div>


<!-- Incio do corpo do site -->

<div class="container bg-white pr-4 pl-4" id="home">
    {% if messages %}
       {% for message in messages %}
            <div class="alert-{{ message.tags }}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    {% if user.is_authenticated %}<!-- Se o usuário estiver logado, mostra o formulário pra adicionar noticia -->
        {% bootstrap_messages %}
        <!--

        -->

    {% else %}<!-- else mostra o carrossel -->
        <section class=" bg-white pd-4 "><!--Inicio Home-->
        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img src={% static "images/carousel/1.jpg" %} class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src={% static "images/carousel/2.jpg" %} class="d-block w-100" alt="...">
                </div>
                <div class="carousel-item">
                    <img src={% static "images/carousel/3.jpg" %} class="d-block w-100" alt="...">
                </div>
            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </section>

    {% endif%}
    <!-- Separador do Carrosel para os Cards com a informação "Últimas notícias"-->
    <div class="separador ">
        <h1 class="">Últimas notícias</h1>
    </div>
       <!-- Paginação  -->

    <!-- Inicio dos Cards de Noticias que é alimentado pelo banco de dados-->
    <section id="cards" class="container  "><!--Linha1-->



        <div class="row" id="noticias" >
            {% for noticia in noticias %}
            <div class=" col-xl-3 col-lg-4 col-md-6 col-sm-12">
                <img class="card-img-top" src="{{noticia.thumbnail.url}}" alt="teste">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title ">{{ noticia.titulo|truncatechars:40 }} </h5>

                        <p class="card-text">{{noticia.corpo|truncatechars:60}}</p>
                        <div class="row align-items-center ">
                            <div class="col">
                            <a href="{% url 'vernoticia' noticia.pk %}" class="btn btn-sm btn-success">Leia mais</a>

                            </div>
                            <div class="col ">
                                <span class="badge badge-primary ">{{noticia.autor}}</span>
                                <span class="badge badge-info ">{{noticia.criado|date:'d-m-Y'}}</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            {% endfor %}



        </div>
    </section>
        <!-- Paginação  -->

</div>
{% endblock %}